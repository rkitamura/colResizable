// colResizable v1.3.0 - by Alvaro Prieto Lauroba - MIT & GPL
(function(t){var e,r,i,n,o,s,a,d,l,c,p,h,g,u,f,v,w,m,C,b;a=t(document),c=t("head"),l=null,b=[],o=0,e="id",r="px",n="JColResizer",p=navigator.userAgent.toLowerCase().match(/(msie)/),i=void 0;try{i=sessionStorage}catch(R){}return c.append("<style type='text/css'>\n  .JColResizer {table-layout:fixed;}\n  .JColResizer td, .JColResizer th {\n    overflow:hidden;\n    padding-left:0!important;\n    padding-right:0!important;\n  }\n  .JCLRgrips {height:0px; position:relative;}\n  .JCLRgrip {margin-left:-5px; position:absolute; z-index:1;}\n  .JCLRgrip .JColResizer {\n    position:absolute;\n    background-color:red;\n    filter:alpha(opacity=1);\n    opacity:0;\n    width:10px;\n    height:100%;\n    top:0px\n  }\n  .JCLRLastGrip {position:absolute; width:1px;}\n  .JCLRgripDrag {border-left:1px dotted black;}\n</style>"),h=function(r,i){var a,l,c,h;return h=t(r),i.disable?d(h):(c=h.id=h.attr(e)||n+o++,h.p=i.postbackSafe,h.is("table")&&!b[c]?(h.addClass(n).attr(e,c).before('<div class="JCLRgrips"/>'),h.opt=i,h.g=[],h.c=[],h.w=h.width(),h.gc=h.prev(),i.marginLeft&&h.gc.css("marginLeft",i.marginLeft),i.marginRight&&h.gc.css("marginRight",i.marginRight),l=p?r.cellSpacing||r.currentStyle.borderSpacing:h.css("border-spacing"),h.cs=parseInt(l,10)||2,a=p?r.border||r.currentStyle.borderLeftWidth:h.css("border-left-width"),h.b=parseInt(a,10)||1,b[c]=h,s(h)):void 0)},d=function(t){var r;return r=t.attr(e),t=b[r],t&&t.is("table")?(t.removeClass(n).gc.remove(),delete b[r]):void 0},s=function(r){var o,s;return s=r.find(">thead>tr>th,>thead>tr>td"),s.length||(o=[">tbody>tr:first>th",">tr:first>th",">tbody>tr:first>td",">tr:first>td"],s=r.find(o.join(","))),r.cg=r.find("col"),r.ln=s.length,r.p&&i&&i[r.id]&&g(r,s),s.each(function(i){var o,s,a;return o=t(this),s=t(r.gc.append('<div class="JCLRgrip"></div>')[0].lastChild),s.t=r,s.i=i,s.c=o,o.w=o.width(),r.g.push(s),r.c.push(o),o.width(o.w).removeAttr("width"),r.ln-1>i?(a="<div class='"+n+"' style='cursor:"+r.opt.hoverCursor+"'></div>",s.mousedown(v).append(r.opt.gripInnerHtml).append(a)):s.addClass("JCLRLastGrip").removeClass("JCLRgrip"),s.data(n,{i:i,t:r.attr(e)})}),r.cg.removeAttr("width"),C(r),r.find("td, th").not(s).not("table th, table td").each(function(){return t(this).removeAttr("width")})},g=function(t,e){var r,n,o,s,a;if(s=void 0,o=0,n=0,r=[],e){if(t.cg.removeAttr("width"),t.opt.flush)return i[t.id]="",void 0;for(s=i[t.id].split(";");t.ln>n;)r.push(100*s[n]/s[t.ln]+"%"),e.eq(n).css("width",r[n]),n++;for(n=0,a=[];t.ln>n;)t.cg.eq(n).css("width",r[n]),a.push(n++);return a}i[t.id]="";for(n in t.c)s=t.c[n].width(),i[t.id]+=s+";",o+=s;return i[t.id]+=o},C=function(t){var e,i,n,o;for(t.gc.width(t.w),n=0,o=[];t.ln>n;)e=t.c[n],i=t.opt.headerOnly?t.c[0].outerHeight():t.outerHeight(),t.g[n].css({left:e.offset().left-t.offset().left+e.outerWidth()+t.cs/2+r,height:i}),o.push(n++);return o},m=function(t,e,i){var n,o,s,a,d;return s=l.x-l.l,n=t.c[e],o=t.c[e+1],a=n.w+s,d=o.w-s,n.width(a+r),o.width(d+r),t.cg.eq(e).width(a+r),t.cg.eq(e+1).width(d+r),i?(n.w=a,o.w=d):void 0},u=function(t){var e,i,n,o,s,a,d,c;if(l)return d=l.t,c=t.pageX-l.ox+l.l,a=d.opt.minWidth,i=l.i,n=1.5*d.cs+a+d.b,o=i===d.ln-1?d.w-n:d.g[i+1].position().left-d.cs-a,s=i?d.g[i-1].position().left+d.cs+a:n,c=Math.max(s,Math.min(o,c)),l.x=c,l.css("left",c+r),d.opt.liveDrag&&(m(d,i),C(d),e=d.opt.onDrag,e&&(t.currentTarget=d[0],e(t))),!1},f=function(e){var r,o;return a.unbind("mousemove."+n).unbind("mouseup."+n),t("head :last-child").remove(),l?(l.removeClass(l.t.opt.draggingClass),o=l.t,r=o.opt.onResize,l.x&&(m(o,l.i,!0),C(o),r&&(e.currentTarget=o[0],r(e))),o.p&&i&&g(o),l=null):void 0},v=function(e){var r,i,o,s,d;if(s=t(this).data(n),d=b[s.t],i=d.g[s.i],i.ox=e.pageX,i.l=i.position().left,a.bind("mousemove."+n,u),a.bind("mouseup."+n,f),c.append("<style type='text/css'>\n  *{cursor:"+d.opt.dragCursor+"!important}\n</style>"),i.addClass(d.opt.draggingClass),l=i,d.c[s.i].l)for(o=0,r=void 0;d.ln>o;)r=d.c[o],r.l=!1,r.w=r.width(),o++;return!1},w=function(){var t,e,r,i,o;o=[];for(r in b){if(r=b[r],t=void 0,e=0,r.removeClass(n),r.w!==r.width()){for(r.w=r.width(),t=0;r.ln>t;)e+=r.c[t].w,t++;for(t=0;r.ln>t;)i=Math.round(1e3*r.c[t].w/e)/10+"%",r.c[t].css("width",i).l=!0,t++}o.push(C(r.addClass(n)))}return o},t(window).bind("resize."+n,w),t.fn.extend({colResizable:function(e){var r;return r={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=t.extend(r,e),this.each(function(){return h(this,e)})}})})(jQuery);