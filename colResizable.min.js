// colResizable v1.3.0 - by Alvaro Prieto Lauroba - MIT & GPL
(function(t){var e,i,r,n,o,s,a,d,l,c,p,h,g,u,f,v,w,m;o=t(document),d=t("head"),a=null,m=[],r=0,i="JColResizer",l=navigator.userAgent.toLowerCase().match(/(msie)/),e=void 0;try{e=sessionStorage}catch(C){}return d.append("<style type='text/css'>\n  .JColResizer {table-layout:fixed;}\n  .JColResizer td, .JColResizer th {\n    overflow:hidden;\n    padding-left:0!important;\n    padding-right:0!important;\n  }\n  .JCLRgrips {height:0px; position:relative;}\n  .JCLRgrip {margin-left:-5px; position:absolute; z-index:1;}\n  .JCLRgrip .JColResizer {\n    position:absolute;\n    background-color:red;\n    filter:alpha(opacity=1);\n    opacity:0;\n    width:10px;\n    height:100%;\n    top:0px\n  }\n  .JCLRLastGrip {position:absolute; width:1px;}\n  .JCLRgripDrag {border-left:1px dotted black;}\n</style>"),c=function(e,o){var a,d,c,p;return p=t(e),o.disable?s(p):(c=p.id=p.attr("id")||i+r++,p.p=o.postbackSafe,p.is("table")&&!m[c]?(p.addClass(i).attr("id",c).before('<div class="JCLRgrips"/>'),p.opt=o,p.g=[],p.c=[],p.w=p.width(),p.gc=p.prev(),o.marginLeft&&p.gc.css("marginLeft",o.marginLeft),o.marginRight&&p.gc.css("marginRight",o.marginRight),d=l?e.cellSpacing||e.currentStyle.borderSpacing:p.css("border-spacing"),p.cs=parseInt(d,10)||2,a=l?e.border||e.currentStyle.borderLeftWidth:p.css("border-left-width"),p.b=parseInt(a,10)||1,m[c]=p,n(p)):void 0)},s=function(t){var e;return e=t.attr("id"),t=m[e],t&&t.is("table")?(t.removeClass(i).gc.remove(),delete m[e]):void 0},n=function(r){var n,o;return o=r.find(">thead>tr>th,>thead>tr>td"),o.length||(n=[">tbody>tr:first>th",">tr:first>th",">tbody>tr:first>td",">tr:first>td"],o=r.find(n.join(","))),r.cg=r.find("col"),r.ln=o.length,r.p&&e&&e[r.id]&&p(r,o),o.each(function(e){var n,o,s;return n=t(this),o=t(r.gc.append('<div class="JCLRgrip"></div>')[0].lastChild),o.t=r,o.i=e,o.c=n,n.w=n.width(),r.g.push(o),r.c.push(n),n.width(n.w).removeAttr("width"),r.ln-1>e?(s="<div class='"+i+"' style='cursor:"+r.opt.hoverCursor+"'></div>",o.mousedown(u).append(r.opt.gripInnerHtml).append(s)):o.addClass("JCLRLastGrip").removeClass("JCLRgrip"),o.data(i,{i:e,t:r.attr("id")})}),r.cg.removeAttr("width"),w(r),r.find("td, th").not(o).not("table th, table td").each(function(){return t(this).removeAttr("width")})},p=function(t,i){var r,n,o,s,a;if(s=void 0,o=0,n=0,r=[],i){if(t.cg.removeAttr("width"),t.opt.flush)return e[t.id]="",void 0;for(s=e[t.id].split(";");t.ln>n;)r.push(100*s[n]/s[t.ln]+"%"),i.eq(n).css("width",r[n]),n++;for(n=0,a=[];t.ln>n;)t.cg.eq(n).css("width",r[n]),a.push(n++);return a}e[t.id]="";for(n in t.c)s=t.c[n].width(),e[t.id]+=s+";",o+=s;return e[t.id]+=o},w=function(t){var e,i,r,n,o;for(t.gc.width(t.w),r=0,o=[];t.ln>r;)e=t.c[r],i=t.opt.headerOnly?t.c[0].outerHeight():t.outerHeight(),n=e.offset().left-t.offset().left+e.outerWidth()+t.cs/2,t.g[r].css({left:""+n+"px",height:i}),o.push(r++);return o},v=function(t,e,i){var r,n,o,s,d;return o=a.x-a.l,r=t.c[e],n=t.c[e+1],s=r.w+o,d=n.w-o,r.width(""+s+"px"),n.width(""+d+"px"),t.cg.eq(e).width(""+s+"px"),t.cg.eq(e+1).width(""+d+"px"),i?(r.w=s,n.w=d):void 0},h=function(t){var e,i,r,n,o,s,d,l;if(a)return d=a.t,l=t.pageX-a.ox+a.l,s=d.opt.minWidth,i=a.i,r=1.5*d.cs+s+d.b,n=i===d.ln-1?d.w-r:d.g[i+1].position().left-d.cs-s,o=i?d.g[i-1].position().left+d.cs+s:r,l=Math.max(o,Math.min(n,l)),a.x=l,a.css("left",""+l+"px"),d.opt.liveDrag&&(v(d,i),w(d),e=d.opt.onDrag,e&&(t.currentTarget=d[0],e(t))),!1},g=function(r){var n,s;return o.unbind("mousemove."+i).unbind("mouseup."+i),t("head :last-child").remove(),a?(a.removeClass(a.t.opt.draggingClass),s=a.t,n=s.opt.onResize,a.x&&(v(s,a.i,!0),w(s),n&&(r.currentTarget=s[0],n(r))),s.p&&e&&p(s),a=null):void 0},u=function(e){var r,n,s,l,c;if(l=t(this).data(i),c=m[l.t],n=c.g[l.i],n.ox=e.pageX,n.l=n.position().left,o.bind("mousemove."+i,h),o.bind("mouseup."+i,g),d.append("<style type='text/css'>\n  *{cursor:"+c.opt.dragCursor+"!important}\n</style>"),n.addClass(c.opt.draggingClass),a=n,c.c[l.i].l)for(s=0,r=void 0;c.ln>s;)r=c.c[s],r.l=!1,r.w=r.width(),s++;return!1},f=function(){var t,e,r,n,o;o=[];for(r in m){if(r=m[r],t=void 0,e=0,r.removeClass(i),r.w!==r.width()){for(r.w=r.width(),t=0;r.ln>t;)e+=r.c[t].w,t++;for(t=0;r.ln>t;)n=Math.round(1e3*r.c[t].w/e)/10+"%",r.c[t].css("width",n).l=!0,t++}o.push(w(r.addClass(i)))}return o},t(window).bind("resize."+i,f),t.fn.extend({colResizable:function(e){var i;return i={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=t.extend(i,e),this.each(function(){return c(this,e)})}})})(jQuery);